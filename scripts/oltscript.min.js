"use strict"
function getNumAdults(){let adultNumSelect=document.getElementById("adultNumSelect")
let numOfAdults=1;switch(adultNumSelect.options[adultNumSelect.selectedIndex].value){case "1":numOfAdults=1;break;case "2":numOfAdults=2;break;case "3":numOfAdults=3;break;case "4":numOfAdults=4;break}
return numOfAdults}
function getNumChildren(){let childNumSelect=document.getElementById("childNumSelect")
let numOfChildren=0;switch(childNumSelect.options[childNumSelect.selectedIndex].value){case "0":numOfChildren=0;break;case "1":numOfChildren=1;break;case "2":numOfChildren=2;break;case "3":numOfChildren=3;break;case "4":numOfChildren=4;break}
return numOfChildren}
function getCheckoutDate(){let checkinDateField=document.getElementById("checkinDateField");let s=checkinDateField.value;let checkinDate=new Date();checkinDate.setMonth(s.substring(5,7)-1);checkinDate.setDate(s.substring(8,10));checkinDate.setFullYear(s.substring(0,4));let stayLengthField=document.getElementById("stayLengthField");let stayLength=Number(stayLengthField.value);let msec_per_day=1000*60*60*24;let checkoutMsec=checkinDate.getTime()+(stayLength*msec_per_day);document.getElementById("checkinDateOutput").value=checkinDate.toLocaleDateString();let temp=new Date(checkoutMsec);document.getElementById("checkoutDateOutput").value=temp.toLocaleDateString()}
function getRoomType(){let typeOfRmSelect=document.getElementById("typeOfRmSelect");let costOfRmType=0;let prices=[{roomType:"queen",maxOccupency:5,regularRates:150},{roomType:"king",maxOccupency:2,regularRates:150},{roomType:"kingSuite",maxOccupency:4,regularRates:190},{roomType:"twoBrSuite",maxOccupency:6,regularRates:210}];for(let i=0;i<prices.length;i++){if(typeOfRmSelect.options[typeOfRmSelect.selectedIndex].value==prices[i].roomType){costOfRmType=prices[i].regularRates;break}}
return costOfRmType}
function checkRoomCompatibility(){let numOfAdults=getNumAdults();let numOfChildren=getNumChildren();let rmSelect=document.getElementById("typeOfRmSelect");if(numOfAdults+numOfChildren>6){rmSelect.options[1].style.display="none";rmSelect.options[2].style.display="none";rmSelect.options[3].style.display="none";rmSelect.options[4].style.display="none"}
else if(numOfAdults+numOfChildren>5){rmSelect.options[1].style.display="none";rmSelect.options[2].style.display="none";rmSelect.options[3].style.display="none";rmSelect.options[4].style.display="block"}
else if(numOfAdults+numOfChildren>4){rmSelect.options[1].style.display="block";rmSelect.options[2].style.display="none";rmSelect.options[3].style.display="none";rmSelect.options[4].style.display="block"}
else if(numOfAdults+numOfChildren>2){rmSelect.options[1].style.display="block";rmSelect.options[2].style.display="none";rmSelect.options[3].style.display="block";rmSelect.options[4].style.display="block"}
else{rmSelect.options[1].style.display="block";rmSelect.options[2].style.display="block";rmSelect.options[3].style.display="block";rmSelect.options[4].style.display="block"}}
function getDiscount(){let discNoneRb=document.getElementById("discNoneRb");let discAaaRb=document.getElementById("discAaaRb");let discSeniorRb=document.getElementById("discSeniorRb");let discMilitaryRb=document.getElementById("discMilitaryRb");let discAmt=0;if(discAaaRb.checked){discAmt=0.1}
else if(discSeniorRb.checked){discAmt=0.1}
else if(discMilitaryRb.checked){discAmt=0.2}
else if(discNoneRb.checked){discAmt=0}
return discAmt}
function getBreakfastCost(){let stayLengthField=document.getElementById("stayLengthField");let stayLength=stayLengthField.value;let breakfastSwitch=document.getElementById("breakfastSwitch");let discSeniorRb=document.getElementById("discSeniorRb");let breakfastCost=0;let numOfAdults=getNumAdults();let numOfChildren=getNumChildren();if(discSeniorRb.checked&&breakfastSwitch.checked){breakfastCost=0}
else if(breakfastSwitch.checked){breakfastCost=((numOfAdults*6.96)+(numOfChildren*3.95))*stayLength}
else{breakfastCost=0}
return breakfastCost}
function getBaseRoomCost(){let stayLengthField=document.getElementById("stayLengthField");let stayLength=stayLengthField.value;let roomCost=0;let costOfRmType=getRoomType();roomCost=stayLength*costOfRmType
return roomCost}
function getTotal(){getCheckoutDate();let baseRoomCost=getBaseRoomCost();let breakfastCost=getBreakfastCost();let roomCostOutput=baseRoomCost+breakfastCost;let discAmt=getDiscount();let discOutput=discAmt*baseRoomCost;let taxOnRoom=roomCostOutput*.12
let totalCost=(baseRoomCost-discOutput+taxOnRoom)+breakfastCost;document.getElementById("taxOutput").value=taxOnRoom.toFixed(2);document.getElementById("totalRoomCostOutput").value=roomCostOutput.toFixed(2);document.getElementById("discOutput").value=discOutput.toFixed(2);document.getElementById("totalOutput").value=totalCost.toFixed(2)}
window.onload=function(){const totalCostBtn=document.getElementById("calcBtn");totalCostBtn.onclick=getTotal;document.getElementById("adultNumSelect").onchange=checkRoomCompatibility;document.getElementById("childNumSelect").onchange=checkRoomCompatibility}